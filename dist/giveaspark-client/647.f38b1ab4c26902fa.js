"use strict";(self.webpackChunkGiveaspark_client=self.webpackChunkGiveaspark_client||[]).push([[647],{6647:(C,u,i)=>{i.r(u),i.d(u,{MyquoteModule:()=>A});var p=i(6895),s=i(3262),a=i(433),e=i(1571),f=i(7177),c=i(4383),g=i(8423);function h(t,n){1&t&&(e.TgZ(0,"div",18)(1,"small",19),e._uU(2,"Writer Name is required "),e.qZA()())}function y(t,n){1&t&&(e.TgZ(0,"div",18)(1,"small",19),e._uU(2,"Writer Profile is required "),e.qZA()())}function S(t,n){1&t&&(e.TgZ(0,"div",18)(1,"small",19),e._uU(2,"Please add Story "),e.qZA()())}const v=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-myquote"]],decls:1,vars:0,template:function(o,r){1&o&&e._UZ(0,"router-outlet")},dependencies:[s.lC]}),t})(),children:[{path:"",redirectTo:"quote-dashboard",pathMatch:"full"},{path:"quote-dashboard",loadChildren:()=>i.e(446).then(i.bind(i,4446)).then(t=>t.QuoteDashboardModule)},{path:"add-quote",loadChildren:()=>i.e(569).then(i.bind(i,8569)).then(t=>t.AddQuoteModule)},{path:"add-story",component:(()=>{class t{constructor(o,r,l,d,m){this.api=o,this.fb=r,this.router=l,this.toast=d,this.spinner=m,this.imageData=[],this.Submitted=!1,this.imageFile="",this.isImage=!0,this.addStoryForm=this.fb.group({writerName:["",a.kI.required],writerProfile:["",a.kI.required],enterStories:["",a.kI.required]})}ngOnInit(){this.spinner.show(),setTimeout(()=>{this.spinner.hide()},1e3)}onSelectImage(o){let r=o.target.files;if(this.imageFile=o.target.files[0].name,r){this.uploadImage=r[0],this.subImageSubmit();for(let d of r){if(!d.type.includes("image"))return void(this.isImage=!1);this.imageData.push(d)}}if(o.target.files&&o.target.files[0]){var l=new FileReader;l.readAsDataURL(o.target.files[0]),l.onload=d=>{this.url=d.target?.result}}}subImageSubmit(){let o=new FormData;o.append("attachment",this.uploadImage),this.api.addAttachments(o).subscribe(r=>{console.log(r),this.imageData1=r,this.imageData2=this.imageData1[0].key,console.log(this.imageData1[0].key,"image key "),console.log(this.imageData2)},r=>{console.log(r)})}get f(){return this.addStoryForm.controls}saveStory(o){this.api.addMyStory({writerName:o.writerName,writerProfile:this.imageData2,enterStories:o.enterStories}).subscribe(l=>{console.log(l),this.toast.success("Added  Successfully"),this.router.navigate(["home-dashboard/myquote/quote-dashboard"])},l=>{this.toast.error("please try again")})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(f.O),e.Y36(a.qu),e.Y36(s.F0),e.Y36(c._W),e.Y36(g.t2))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-story"]],decls:30,vars:5,consts:[[1,"row","m-0","p-0","mt-3","mb-130px"],[1,"col-md-7","col-lg-10"],[1,"row","m-0","p-0","mt-5","align-items-center"],[1,"col-md-12","col-lg-12"],[1,"border-bottom"],[1,"row","m-0","p-0","mt-4"],[1,"row","position-relative",3,"formGroup","ngSubmit"],[1,"col-md-6","col-lg-6"],[1,"mb-2"],["for","exampleInputfiled",1,"form-label"],["type","text","formControlName","writerName","id","exampleInputfiled","aria-describedby","textHelp",1,"form-control","border-blue","rounded-0","p-2"],["class","text-danger  fs-12text-sm",4,"ngIf"],[1,"mb-3"],["for","formFile",1,"form-label"],["type","file","accept","image/png, image/gif, image/jpeg","id","formFile","formControlName","writerProfile",1,"form-control","border-blue","p-2",3,"change"],["for","exampleFormControlTextarea1",1,"form-label"],["placeholder","Enter story","id","exampleFormControlTextarea1","rows","3","formControlName","enterStories",1,"form-control","border-blue"],["type","submit",1,"btn","green-btn",3,"disabled"],[1,"text-danger","fs-12text-sm"],[1,"fs-12"]],template:function(o,r){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),e._uU(6,"Create Story"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",3)(9,"form",6),e.NdJ("ngSubmit",function(){return r.saveStory(r.addStoryForm.value)}),e.TgZ(10,"div",7)(11,"div",8)(12,"label",9),e._uU(13,"Your Name"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,h,3,0,"div",11),e.qZA()(),e.TgZ(16,"div",7)(17,"div",12)(18,"label",13),e._uU(19,"Image"),e.qZA(),e.TgZ(20,"input",14),e.NdJ("change",function(d){return r.onSelectImage(d)}),e.qZA(),e.YNc(21,y,3,0,"div",11),e.qZA()(),e.TgZ(22,"div",12)(23,"label",15),e._uU(24,"Enter Story "),e.qZA(),e._UZ(25,"textarea",16),e.YNc(26,S,3,0,"div",11),e.qZA(),e.TgZ(27,"div",7)(28,"button",17),e._uU(29,"Create"),e.qZA()()()()()()()()()),2&o){let l,d,m;e.xp6(9),e.Q6J("formGroup",r.addStoryForm),e.xp6(6),e.Q6J("ngIf",null==(l=r.addStoryForm.get("writerName"))?null:l.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(d=r.addStoryForm.get("writerProfile"))?null:d.hasError("required")),e.xp6(5),e.Q6J("ngIf",null==(m=r.addStoryForm.get("enterStories"))?null:m.hasError("required")),e.xp6(2),e.Q6J("disabled",r.addStoryForm.invalid)}},dependencies:[p.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),t})()}]}];let b=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.Bz.forChild(v),s.Bz]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,b,a.UX,a.u5,g.ef]}),t})()}}]);