"use strict";(self.webpackChunkGiveaspark_client=self.webpackChunkGiveaspark_client||[]).push([[37],{6037:(D,m,s)=>{s.r(m),s.d(m,{MyprofileModule:()=>_});var p=s(6895),d=s(4173),e=s(8274);let f=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-myprofile"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},dependencies:[d.lC]}),o})();var g=s(7177);function c(o,r){1&o&&(e.TgZ(0,"div",27),e._UZ(1,"img",28),e.qZA())}function h(o,r){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"img",30),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.MGl("src","https://giveaspark.s3.us-west-1.amazonaws.com/",null==t.userDetails?null:t.userDetails.profile,"",e.LSH)}}function b(o,r){if(1&o&&(e.TgZ(0,"div",27),e.YNc(1,h,2,1,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","https://stargazeevents.s3.ap-south-1.amazonaws.com/pfiles/profile.png"!=(null==t.userDetails?null:t.userDetails.profile))}}let v=(()=>{class o{constructor(t,i,n){this.api=t,this.route=i,this.router=n,this.route.queryParams.subscribe(l=>{if(l?.token){let u=atob(l?.token);this.profileData(u)}else if(sessionStorage.getItem("ClientSpark")){let u=sessionStorage.getItem("ClientSpark");this.profileData(u)}})}ngOnInit(){}profileData(t){this.api.getUserProfile(t).subscribe(i=>{this.userDetails=i,console.log(this.userDetails?.address[0]?.addressline1,"addddd")})}navigate(){this.router.navigate(["/home-dashboard/myprofile/update-profile"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.O),e.Y36(d.gz),e.Y36(d.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile-dashboard"]],decls:55,vars:13,consts:[[1,"col-md-7","col-lg-10"],[1,"row","m-0","p-0","align-items-center"],[1,"col-md-2","col-lg-2","mt-2","m-0","p-0"],[1,"rounded-circle","bg-darkgray","wh-225","position-relative"],["class","position-absolute top-50 start-50 translate-middle",4,"ngIf"],[1,"position-absolute","top-50","start-0","ps-5","translate-middle"],[1,"rounded-circle","bg-black","position-relative"],["aria-hidden","true",1,"fa","fa-camera","text-white","p-1","fs-14"],[1,"col-md-10","col-lg-10","mt-2","m-0","p-0"],[1,"bg-darkblue","rounded-pill","details-plan","p-0"],[1,"row","ps-5","p-3"],[1,"col-md-5","col-lg-5"],[1,"d-flex","justify-content-between"],[1,"text-white"],["src","assets/images/edit.png","alt","",1,"wh-30",3,"click"],[1,"text-yellow"],[1,"text-gray"],[1,"col-md-7","col-lg-7"],[1,"row","m-0","p-0","mt-5","align-items-center"],[1,"col-md-10","col-lg-10"],[1,"row","m-0","p-0"],[1,"col-md-6","col-lg-6"],[1,"d-flex"],[1,"fw-400","fs-16","text-black","fw-bold"],[1,"fw-400","fs-16","ps-3"],[1,"col-md-12","col-lg-12"],[1,"fw-400","fs-16","text-black","fw-bold","text-nowrap"],[1,"position-absolute","top-50","start-50","translate-middle"],["src","assets/images/profile-image.png",1,"wh-225","p-2"],[4,"ngIf"],[1,"wh-225","p-2","rounded-circle",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,c,2,0,"div",4),e.YNc(5,b,2,1,"div",4),e.TgZ(6,"div",5)(7,"div",6),e._UZ(8,"i",7),e.qZA()()()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"h4",13),e._uU(15),e.qZA(),e.TgZ(16,"img",14),e.NdJ("click",function(){return i.navigate()}),e.qZA()(),e.TgZ(17,"h6",15),e._uU(18),e.qZA(),e.TgZ(19,"p",16),e._uU(20),e.qZA()(),e._UZ(21,"div",17),e.qZA()()()(),e.TgZ(22,"div",18),e._UZ(23,"div",2),e.TgZ(24,"div",19)(25,"div",20)(26,"div",21)(27,"div",22)(28,"p",23),e._uU(29,"Phone : "),e.qZA(),e.TgZ(30,"p",24),e._uU(31),e.qZA()(),e.TgZ(32,"div",22)(33,"p",23),e._uU(34,"Country : "),e.qZA(),e.TgZ(35,"p",24),e._uU(36),e.qZA()()(),e.TgZ(37,"div",21)(38,"div",22)(39,"p",23),e._uU(40,"Address : "),e.qZA(),e.TgZ(41,"p",24),e._uU(42),e.qZA()(),e.TgZ(43,"div",22)(44,"p",23),e._uU(45,"D.O.B : "),e.qZA(),e.TgZ(46,"p",24),e._uU(47),e.ALo(48,"date"),e.qZA()()(),e.TgZ(49,"div",25)(50,"div",22)(51,"p",26),e._uU(52,"Bio : "),e.qZA(),e.TgZ(53,"p",24),e._uU(54),e.qZA()()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.userDetails),e.xp6(1),e.Q6J("ngIf",i.userDetails),e.xp6(10),e.hij(" ",null==i.userDetails?null:i.userDetails.firstName," "),e.xp6(3),e.Oqu(null==i.userDetails?null:i.userDetails.designation),e.xp6(2),e.Oqu(null==i.userDetails?null:i.userDetails.email),e.xp6(11),e.hij(" ",null==i.userDetails?null:i.userDetails.phone," "),e.xp6(5),e.hij(" ",null==i.userDetails||null==i.userDetails.address[0]?null:i.userDetails.address[0].country," "),e.xp6(6),e.hij(" ",null==i.userDetails||null==i.userDetails.address[0]?null:i.userDetails.address[0].addressline1," "),e.xp6(5),e.hij(" ",e.xi3(48,10,null==i.userDetails?null:i.userDetails.DOB,"short"),""),e.xp6(7),e.hij(" ",null==i.userDetails?null:i.userDetails.yourBio," "))},dependencies:[p.O5,p.uU]}),o})();var a=s(433),Z=s(7185);const y=[{path:"",component:f,children:[{path:"",redirectTo:"profile-dashboard",pathMatch:"full"},{path:"profile-dashboard",component:v},{path:"update-profile",component:(()=>{class o{constructor(t,i,n,l){this.api=t,this.router=i,this.fb=n,this.toast=l,this.fileData=[],this.Submitted=!1,this.fileImageName="",this.isImage=!0,this.profileUpdate=this.fb.group({firstName:[""],email:[""],phone:[""],designation:[""],address:[""],country:[""],DOB:[""],yourBio:[""],profile:[""]})}ngOnInit(){this.getbasicDetails()}getbasicDetails(){this.api.getbasicDetaiofUseer().subscribe(t=>{this.details=t.result[0],this.userName=t.result[0]?.firstName,this.Email=t.result[0].email,this.compname=t.result[0]?.companyName,this.compwebsite=t.result[0]?.companyWebsite,this.number=t.result[0]?.phone,this.addr=t.result[0]?.address[0]?.addressline1,this.designation=t.result[0]?.designation,this.yBio=t.result[0]?.yourBio,console.log(this.compwebsite,"jojo"),console.log(this.details),console.log(this.details?.address[0]?.addressline1,"ipoeritperi")})}onSelectImage(t){this.Submitted=!0;let i=t.target.files;if(this.fileImageName=t.target.files[0].name,i){this.uploadImage=i[0],this.subImageSubmit();for(let l of i){if(!l.type.includes("image"))return void(this.isImage=!1);this.fileData.push(l)}}if(t.target.files&&t.target.files[0]){var n=new FileReader;n.readAsDataURL(t.target.files[0]),n.onload=l=>{this.url=l.target?.result}}}subImageSubmit(){this.Submitted=!0;let t=new FormData;t.append("attachment",this.uploadImage),this.api.addAttachments(t).subscribe(i=>{this.imageData1=i,this.imageData2=this.imageData1[0].key},i=>{console.log(i)})}onSubmit(t){this.api.basicDetailofUser({firstName:t?.firstName,description:t?.description,profile:this.imageData2,email:t.email,designation:t?.designation,DOB:t?.DOB,phone:t?.phone,yourBio:t?.yourBio,address:[{addressline1:t.address,country:t.country}]}).subscribe(n=>{this.toast.success("submitted"),this.router.navigate(["/home-dashboard/myprofile/profile-dashboard"])},n=>{this.toast.error("not submitted")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.O),e.Y36(d.F0),e.Y36(a.qu),e.Y36(Z._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-profile"]],decls:32,vars:7,consts:[[1,"col-md-7","col-lg-10"],[1,"row","m-0","p-0","mt-5","align-items-center"],[1,"col-md-12","col-lg-12"],[1,"border-bottom"],[1,"row","m-0","p-0","mt-4"],[1,"row","position-relative","pb-5",3,"formGroup","ngSubmit"],[1,"col-md-6","col-lg-6"],[1,"mb-3"],["type","text","placeholder","Full Name","id","exampleInputfiled","aria-describedby","textHelp","formControlName","firstName",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","email","placeholder","Email Address","id","exampleInputemail","aria-describedby","textHelp","formControlName","email",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","number","placeholder","Phone Number","id","exampleInputfiled","aria-describedby","textHelp","formControlName","phone",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","text","placeholder","Designation","id","exampleInputemail","aria-describedby","textHelp","formControlName","designation",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","file","id","formFile","formControlName","profile",1,"form-control","light-bg","text-black","border-blue","p-2",3,"change"],["type","text","placeholder","Address","id","exampleInputemail","aria-describedby","textHelp","formControlName","address",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","text","placeholder","Country","id","exampleInputfiled","aria-describedby","textHelp","formControlName","country",1,"form-control","light-bg","text-black","rounded-0","p-3"],["type","date","placeholder","Date Of Birth","id","exampleInputemail","aria-describedby","textHelp","formControlName","DOB",1,"form-control","light-bg","text-black","rounded-0","p-3"],["type","text","placeholder","Your Bio","id","exampleInputemail","aria-describedby","textHelp","formControlName","yourBio",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","submit",1,"btn","green-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),e._uU(5,"Create Profile"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",2)(8,"form",5),e.NdJ("ngSubmit",function(){return i.onSubmit(i.profileUpdate.value)}),e.TgZ(9,"div",6)(10,"div",7)(11,"input",8),e.NdJ("ngModelChange",function(l){return i.userName=l}),e.qZA()(),e.TgZ(12,"div",7)(13,"input",9),e.NdJ("ngModelChange",function(l){return i.Email=l}),e.qZA()(),e.TgZ(14,"div",7)(15,"input",10),e.NdJ("ngModelChange",function(l){return i.number=l}),e.qZA()(),e.TgZ(16,"div",7)(17,"input",11),e.NdJ("ngModelChange",function(l){return i.designation=l}),e.qZA()(),e.TgZ(18,"div",7)(19,"input",12),e.NdJ("change",function(l){return i.onSelectImage(l)}),e.qZA()()(),e.TgZ(20,"div",6)(21,"div",7)(22,"input",13),e.NdJ("ngModelChange",function(l){return i.addr=l}),e.qZA()(),e.TgZ(23,"div",7),e._UZ(24,"input",14),e.qZA(),e.TgZ(25,"div",7),e._UZ(26,"input",15),e.qZA(),e.TgZ(27,"div",7)(28,"input",16),e.NdJ("ngModelChange",function(l){return i.yBio=l}),e.qZA()()(),e.TgZ(29,"div",6)(30,"button",17),e._uU(31,"Create Profile"),e.qZA()()()()()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",i.profileUpdate),e.xp6(3),e.Q6J("ngModel",i.userName),e.xp6(2),e.Q6J("ngModel",i.Email),e.xp6(2),e.Q6J("ngModel",i.number),e.xp6(2),e.Q6J("ngModel",i.designation),e.xp6(5),e.Q6J("ngModel",i.addr),e.xp6(6),e.Q6J("ngModel",i.yBio))},dependencies:[a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u]}),o})()}]}];let C=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(y),d.Bz]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,C,a.UX,a.u5]}),o})()}}]);