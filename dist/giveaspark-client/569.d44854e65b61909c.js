"use strict";(self.webpackChunkGiveaspark_client=self.webpackChunkGiveaspark_client||[]).push([[569],{8569:(b,u,l)=>{l.r(u),l.d(u,{AddQuoteModule:()=>h});var d=l(6895),m=l(4173),e=l(8274),g=l(7177),r=l(433),f=l(7185);const p=[{path:"",component:(()=>{class o{constructor(t,a,i,n){this.api=t,this.fb=a,this.router=i,this.toast=n,this.imageData=[],this.Submitted=!1,this.imageFile="",this.isImage=!0,this.addQuoteForm=this.fb.group({writerName:[""],writerProfile:[""],enterQuotes:[""]})}ngOnInit(){}onSelectImage(t){let a=t.target.files;if(this.imageFile=t.target.files[0].name,a){this.uploadImage=a[0],this.subImageSubmit();for(let n of a){if(!n.type.includes("image"))return void(this.isImage=!1);this.imageData.push(n)}}if(t.target.files&&t.target.files[0]){var i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=n=>{this.url=n.target?.result}}}subImageSubmit(){let t=new FormData;t.append("attachment",this.uploadImage),this.api.addAttachments(t).subscribe(a=>{console.log(a),this.imageData1=a,this.imageData2=this.imageData1[0].key,console.log(this.imageData1[0].key,"image key "),console.log(this.imageData2)},a=>{console.log(a)})}saveQuote(t){this.api.addQuote({writerName:t.writerName,writerProfile:this.imageData2,enterQuotes:t.enterQuotes}).subscribe(i=>{console.log(i),this.toast.success("Added  Successfully"),this.router.navigate(["home-dashboard/myquote/quote-dashboard"])},i=>{this.toast.error("please try again")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.O),e.Y36(r.qu),e.Y36(m.F0),e.Y36(f._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-quote"]],decls:25,vars:1,consts:[[1,"row","m-0","p-0","mt-5","align-items-center"],[1,"col-md-12","col-lg-12"],[1,"border-bottom"],[1,"row","m-0","p-0","mt-4"],[1,"row","position-relative",3,"formGroup","ngSubmit"],[1,"col-md-6","col-lg-6"],[1,"mb-2"],["for","exampleInputfiled",1,"form-label"],["type","text","id","exampleInputfiled","aria-describedby","textHelp","formControlName","writerName",1,"form-control","rounded-0","p-2"],[1,"mb-3"],["for","formFile",1,"form-label"],["type","file","accept","image/png, image/gif, image/jpeg","id","formFile","formControlName","writerProfile",1,"form-control","p-2",3,"change"],["for","exampleFormControlTextarea1",1,"form-label"],["placeholder","Enter quote","id","exampleFormControlTextarea1","formControlName","enterQuotes","rows","3",1,"form-control"],["type","submit",1,"btn","green-btn"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),e._uU(4,"Create Quote"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",1)(7,"form",4),e.NdJ("ngSubmit",function(){return a.saveQuote(a.addQuoteForm.value)}),e.TgZ(8,"div",5)(9,"div",6)(10,"label",7),e._uU(11,"Your Name"),e.qZA(),e._UZ(12,"input",8),e.qZA()(),e.TgZ(13,"div",5)(14,"div",9)(15,"label",10),e._uU(16,"Image"),e.qZA(),e.TgZ(17,"input",11),e.NdJ("change",function(n){return a.onSelectImage(n)}),e.qZA()()(),e.TgZ(18,"div",9)(19,"label",12),e._uU(20,"Enter Quote "),e.qZA(),e._UZ(21,"textarea",13),e.qZA(),e.TgZ(22,"div",5)(23,"button",14),e._uU(24,"Create"),e.qZA()()()()()()()),2&t&&(e.xp6(7),e.Q6J("formGroup",a.addQuoteForm))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),o})()}];let c=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(p),m.Bz]}),o})(),h=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,c,r.UX,r.u5]}),o})()}}]);