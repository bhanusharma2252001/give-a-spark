"use strict";(self.webpackChunkGiveaspark_client=self.webpackChunkGiveaspark_client||[]).push([[37],{6037:(M,f,s)=>{s.r(f),s.d(f,{MyprofileModule:()=>_});var u=s(6895),d=s(6239),e=s(1571);let h=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-myprofile"]],decls:1,vars:0,template:function(i,t){1&i&&e._UZ(0,"router-outlet")},dependencies:[d.lC]}),o})();var c=s(7177),m=s(8423);function b(o,r){1&o&&e._UZ(0,"img",28)}function y(o,r){if(1&o&&e._UZ(0,"img",29),2&o){const i=e.oxw();e.s9C("src",null==i.userDetails?null:i.userDetails.profile,e.LSH)}}let Z=(()=>{class o{constructor(i,t,n,l){this.api=i,this.route=t,this.router=n,this.spinner=l,this.route.queryParams.subscribe(p=>{if(p?.token){let g=atob(p?.token);this.profileData(g)}else if(sessionStorage.getItem("ClientSpark")){let g=sessionStorage.getItem("ClientSpark");this.profileData(g)}})}ngOnInit(){this.spinner.show(),setTimeout(()=>{this.spinner.hide()},1e3)}profileData(i){this.api.getUserProfile(i).subscribe(t=>{this.userDetails=t,console.log(this.userDetails?.address[0]?.addressline1,"addddd")})}navigate(){this.router.navigate(["/home-dashboard/myprofile/update-profile"])}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(c.O),e.Y36(d.gz),e.Y36(d.F0),e.Y36(m.t2))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile-dashboard"]],decls:55,vars:13,consts:[[1,"col-md-7","col-lg-10"],[1,"row","m-0","p-0","align-items-center"],[1,"col-md-2","col-lg-2","mt-2","m-0","p-0"],[1,"rounded-circle","bg-darkgray","wh-225","position-relative"],[1,"position-absolute","top-50","start-50","translate-middle"],["class","wh-225 p-2","src","assets/images/profile-image.png",4,"ngIf"],["class","wh-225 p-2 rounded-circle",3,"src",4,"ngIf"],[1,"position-absolute","top-50","start-0","ps-5","translate-middle"],[1,"rounded-circle","bg-black","position-relative"],[1,"col-md-10","col-lg-10","mt-2","m-0","p-0"],[1,"bg-darkblue","rounded-pill","details-plan","p-0"],[1,"row","ps-5","p-3"],[1,"col-md-5","col-lg-5"],[1,"d-flex","justify-content-between"],[1,"text-white"],["src","assets/images/edit.png","alt","",1,"wh-30",3,"click"],[1,"text-yellow"],[1,"text-gray"],[1,"col-md-7","col-lg-7"],[1,"row","m-0","p-0","mt-5","align-items-center"],[1,"col-md-10","col-lg-10"],[1,"row","m-0","p-0"],[1,"col-md-6","col-lg-6"],[1,"d-flex"],[1,"fw-400","fs-16","text-black","fw-bold"],[1,"fw-400","fs-16","ps-3"],[1,"col-md-12","col-lg-12"],[1,"fw-400","fs-16","text-black","fw-bold","text-nowrap"],["src","assets/images/profile-image.png",1,"wh-225","p-2"],[1,"wh-225","p-2","rounded-circle",3,"src"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,b,1,0,"img",5),e.YNc(6,y,1,1,"img",6),e.qZA(),e.TgZ(7,"div",7),e._UZ(8,"div",8),e.qZA()()(),e.TgZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"h4",14),e._uU(15),e.qZA(),e.TgZ(16,"img",15),e.NdJ("click",function(){return t.navigate()}),e.qZA()(),e.TgZ(17,"h6",16),e._uU(18),e.qZA(),e.TgZ(19,"p",17),e._uU(20),e.qZA()(),e._UZ(21,"div",18),e.qZA()()()(),e.TgZ(22,"div",19),e._UZ(23,"div",2),e.TgZ(24,"div",20)(25,"div",21)(26,"div",22)(27,"div",23)(28,"p",24),e._uU(29,"Phone : "),e.qZA(),e.TgZ(30,"p",25),e._uU(31),e.qZA()(),e.TgZ(32,"div",23)(33,"p",24),e._uU(34,"Country : "),e.qZA(),e.TgZ(35,"p",25),e._uU(36),e.qZA()()(),e.TgZ(37,"div",22)(38,"div",23)(39,"p",24),e._uU(40,"Address : "),e.qZA(),e.TgZ(41,"p",25),e._uU(42),e.qZA()(),e.TgZ(43,"div",23)(44,"p",24),e._uU(45,"D.O.B : "),e.qZA(),e.TgZ(46,"p",25),e._uU(47),e.ALo(48,"date"),e.qZA()()(),e.TgZ(49,"div",26)(50,"div",23)(51,"p",27),e._uU(52,"Bio : "),e.qZA(),e.TgZ(53,"p",25),e._uU(54),e.qZA()()()()()()()),2&i&&(e.xp6(5),e.Q6J("ngIf",!(null!=t.userDetails&&t.userDetails.profile)),e.xp6(1),e.Q6J("ngIf",null==t.userDetails?null:t.userDetails.profile),e.xp6(9),e.hij(" ",null==t.userDetails?null:t.userDetails.firstName," "),e.xp6(3),e.Oqu(null==t.userDetails?null:t.userDetails.designation),e.xp6(2),e.Oqu(null==t.userDetails?null:t.userDetails.email),e.xp6(11),e.hij(" ",null==t.userDetails?null:t.userDetails.phone," "),e.xp6(5),e.hij(" ",null==t.userDetails||null==t.userDetails.address[0]?null:t.userDetails.address[0].country," "),e.xp6(6),e.hij(" ",null==t.userDetails||null==t.userDetails.address[0]?null:t.userDetails.address[0].addressline1," "),e.xp6(5),e.hij(" ",e.xi3(48,10,null==t.userDetails?null:t.userDetails.DOB,"short"),""),e.xp6(7),e.hij(" ",null==t.userDetails?null:t.userDetails.yourBio," "))},dependencies:[u.O5,u.uU]}),o})();var a=s(433),C=s(7185);const v=[{path:"",component:h,children:[{path:"",redirectTo:"profile-dashboard",pathMatch:"full"},{path:"profile-dashboard",component:Z},{path:"update-profile",component:(()=>{class o{constructor(i,t,n,l,p){this.api=i,this.router=t,this.fb=n,this.spinner=l,this.toast=p,this.fileData=[],this.Submitted=!1,this.fileImageName="",this.isImage=!0,this.profileUpdate=this.fb.group({firstName:[""],email:[""],phone:[""],designation:[""],address:[""],country:[""],DOB:[""],yourBio:[""],profile:[""]})}ngOnInit(){this.getbasicDetails(),this.spinner.show(),setTimeout(()=>{this.spinner.hide()},1e3)}getbasicDetails(){this.api.getbasicDetaiofUseer().subscribe(i=>{this.details=i.result[0],this.userName=i.result[0]?.firstName,this.Email=i.result[0].email,this.compname=i.result[0]?.companyName,this.compwebsite=i.result[0]?.companyWebsite,this.number=i.result[0]?.phone,this.addr=i.result[0]?.address[0]?.addressline1,this.designation=i.result[0]?.designation,this.yBio=i.result[0]?.yourBio,console.log(this.compwebsite,"jojo"),console.log(this.details),console.log(this.details?.address[0]?.addressline1,"ipoeritperi")})}onSelectImage(i){this.Submitted=!0;let t=i.target.files;if(this.fileImageName=i.target.files[0].name,t){this.uploadImage=t[0],this.subImageSubmit();for(let l of t){if(!l.type.includes("image"))return void(this.isImage=!1);this.fileData.push(l)}}if(i.target.files&&i.target.files[0]){var n=new FileReader;n.readAsDataURL(i.target.files[0]),n.onload=l=>{this.url=l.target?.result}}}subImageSubmit(){this.Submitted=!0;let i=new FormData;i.append("attachment",this.uploadImage),this.api.addAttachments(i).subscribe(t=>{this.imageData1=t,this.imageData2=this.imageData1[0].key},t=>{console.log(t)})}onSubmit(i){this.api.basicDetailofUser({firstName:i?.firstName,description:i?.description,profile:this.imageData2,email:i.email,designation:i?.designation,DOB:i?.DOB,phone:i?.phone,yourBio:i?.yourBio,address:[{addressline1:i.address,country:i.country}]}).subscribe(n=>{this.toast.success("submitted"),this.router.navigate(["/home-dashboard/myprofile/profile-dashboard"])},n=>{this.toast.error("not submitted")})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(c.O),e.Y36(d.F0),e.Y36(a.qu),e.Y36(m.t2),e.Y36(C._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-profile"]],decls:32,vars:7,consts:[[1,"col-md-7","col-lg-10"],[1,"row","m-0","p-0","mt-5","align-items-center"],[1,"col-md-12","col-lg-12"],[1,"border-bottom"],[1,"row","m-0","p-0","mt-4"],[1,"row","position-relative","pb-5",3,"formGroup","ngSubmit"],[1,"col-md-6","col-lg-6"],[1,"mb-3"],["type","text","placeholder","Full Name","id","exampleInputfiled","aria-describedby","textHelp","formControlName","firstName",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","email","placeholder","Email Address","id","exampleInputemail","aria-describedby","textHelp","formControlName","email",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","number","placeholder","Phone Number","id","exampleInputfiled","aria-describedby","textHelp","formControlName","phone",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","text","placeholder","Designation","id","exampleInputemail","aria-describedby","textHelp","formControlName","designation",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","file","id","formFile","formControlName","profile",1,"form-control","light-bg","text-black","border-blue","p-2",3,"change"],["type","text","placeholder","Address","id","exampleInputemail","aria-describedby","textHelp","formControlName","address",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","text","placeholder","Country","id","exampleInputfiled","aria-describedby","textHelp","formControlName","country",1,"form-control","light-bg","text-black","rounded-0","p-3"],["type","date","placeholder","Date Of Birth","id","exampleInputemail","aria-describedby","textHelp","formControlName","DOB",1,"form-control","light-bg","text-black","rounded-0","p-3"],["type","text","placeholder","Your Bio","id","exampleInputemail","aria-describedby","textHelp","formControlName","yourBio",1,"form-control","light-bg","text-black","rounded-0","p-3",3,"ngModel","ngModelChange"],["type","submit",1,"btn","green-btn"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),e._uU(5,"Create Profile"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",2)(8,"form",5),e.NdJ("ngSubmit",function(){return t.onSubmit(t.profileUpdate.value)}),e.TgZ(9,"div",6)(10,"div",7)(11,"input",8),e.NdJ("ngModelChange",function(l){return t.userName=l}),e.qZA()(),e.TgZ(12,"div",7)(13,"input",9),e.NdJ("ngModelChange",function(l){return t.Email=l}),e.qZA()(),e.TgZ(14,"div",7)(15,"input",10),e.NdJ("ngModelChange",function(l){return t.number=l}),e.qZA()(),e.TgZ(16,"div",7)(17,"input",11),e.NdJ("ngModelChange",function(l){return t.designation=l}),e.qZA()(),e.TgZ(18,"div",7)(19,"input",12),e.NdJ("change",function(l){return t.onSelectImage(l)}),e.qZA()()(),e.TgZ(20,"div",6)(21,"div",7)(22,"input",13),e.NdJ("ngModelChange",function(l){return t.addr=l}),e.qZA()(),e.TgZ(23,"div",7),e._UZ(24,"input",14),e.qZA(),e.TgZ(25,"div",7),e._UZ(26,"input",15),e.qZA(),e.TgZ(27,"div",7)(28,"input",16),e.NdJ("ngModelChange",function(l){return t.yBio=l}),e.qZA()()(),e.TgZ(29,"div",6)(30,"button",17),e._uU(31,"Create Profile"),e.qZA()()()()()()()()),2&i&&(e.xp6(8),e.Q6J("formGroup",t.profileUpdate),e.xp6(3),e.Q6J("ngModel",t.userName),e.xp6(2),e.Q6J("ngModel",t.Email),e.xp6(2),e.Q6J("ngModel",t.number),e.xp6(2),e.Q6J("ngModel",t.designation),e.xp6(5),e.Q6J("ngModel",t.addr),e.xp6(6),e.Q6J("ngModel",t.yBio))},dependencies:[a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u]}),o})()}]}];let D=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(v),d.Bz]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,D,a.UX,a.u5,m.ef]}),o})()}}]);