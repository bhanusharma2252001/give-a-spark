"use strict";(self.webpackChunkGiveaspark_client=self.webpackChunkGiveaspark_client||[]).push([[569],{8569:(b,m,l)=>{l.r(m),l.d(m,{AddQuoteModule:()=>h});var d=l(6895),u=l(6773),e=l(8256),p=l(7177),i=l(433),g=l(7185);const f=[{path:"",component:(()=>{class o{constructor(t,a,r,s){this.api=t,this.fb=a,this.router=r,this.toast=s,this.imageData=[],this.Submitted=!1,this.imageFile="",this.isImage=!0,this.addQuoteForm=this.fb.group({writerName:[""],writerProfile:[""],enterQuotes:[""]})}ngOnInit(){}onSelectImage(t){let a=t.target.files;if(this.imageFile=t.target.files[0].name,a){this.uploadImage=a[0],this.subImageSubmit();for(let s of a){if(!s.type.includes("image"))return void(this.isImage=!1);this.imageData.push(s)}}if(t.target.files&&t.target.files[0]){var r=new FileReader;r.readAsDataURL(t.target.files[0]),r.onload=s=>{this.url=s.target?.result}}}subImageSubmit(){let t=new FormData;t.append("attachment",this.uploadImage),this.api.addAttachments(t).subscribe(a=>{console.log(a),this.imageData1=a,this.imageData2=this.imageData1[0].key,console.log(this.imageData1[0].key,"image key "),console.log(this.imageData2)},a=>{console.log(a)})}saveQuote(t){this.api.addQuote({writerName:t.writerName,writerProfile:this.imageData2,enterQuotes:t.enterQuotes}).subscribe(r=>{console.log(r),this.toast.success("Added  Successfully"),this.router.navigate(["home-dashboard/myquote/quote-dashboard"])},r=>{this.toast.error("please try again")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.O),e.Y36(i.qu),e.Y36(u.F0),e.Y36(g._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-quote"]],decls:19,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label","text-blue","fs-12"],["type","text","id","exampleFormControlInput1","placeholder","writerName","formControlName","writerName",1,"form-control","text-dark","bg-semiblack","p-3"],[1,"col-md-4","col-lg-4"],[1,"form-floating","mt-2","upload-file","text-white","bg-semiblack"],["type","file","accept","image/png, image/gif, image/jpeg","placeholder","name@example.com","formControlName","writerProfile",1,"p-2","form-control","text-dark","fs-14","fw-light",3,"change"],["for","floatingInput",1,"upload-document","p-2","fs-14","pt-3","text-white"],["type","text","id","exampleFormControlInput1","placeholder","Write Quote","formControlName","enterQuotes",1,"form-control","text-dark","bg-semiblack","p-3"],[1,"mt-2"],["type","submit",1,"blue-btn","p-1","pe-3","ps-3"]],template:function(t,a){1&t&&(e.TgZ(0,"div")(1,"form",0),e.NdJ("ngSubmit",function(){return a.saveQuote(a.addQuoteForm.value)}),e.TgZ(2,"div",1)(3,"label",2),e._uU(4,"Writer Name"),e.qZA(),e._UZ(5,"input",3),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"input",6),e.NdJ("change",function(s){return a.onSelectImage(s)}),e.qZA(),e.TgZ(9,"label",7),e._uU(10,"Upload Image"),e.qZA()()(),e.TgZ(11,"div",1)(12,"label",2),e._uU(13," Quote"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"div",4)(16,"div",9)(17,"button",10),e._uU(18,"Submit"),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",a.addQuoteForm))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]}),o})()}];let c=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.Bz.forChild(f),u.Bz]}),o})(),h=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,c,i.UX,i.u5]}),o})()}}]);